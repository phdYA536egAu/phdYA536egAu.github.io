<!DOCTYPE html>
<html>
<body>

<p>Copia e cola uma ou varias linhas do teu historico de pontos</p>

<input type="text" id="myText" maxlenght="10000" value="Some text...">

<button onclick="mainFunction()">Calcular custo dos PP's comprados</button>

<p>Input:</p>
<p id="demo"></p>

<script>
var lines = [];
var linesLength;
    
var text, i, bool;
var line="";
var line_counter=0;

function displayLines(){
  linesLength = lines.length;
  
  text = "<ul>";
  for (i = 0; i < linesLength; i++) {
       text += "<li>" + lines[i] + "</li>";
  }
  text += "</ul>";
  
  document.getElementById("demo").innerHTML = text;

}

function obterLinhas(){
	var input = document.getElementById("myText").value;
    
    for (i = 0; i < input.length; i++) {
  		bool=input.substr(i, 1).localeCompare(")");
  		if ( bool ){
    		line = line.concat(input.substr(i, 1));
    	}
    	else{
    		lines[line_counter]=line;
        	line_counter+=1;
        	line="";
    	}
	}
}

function mainFunction() {

  obterLinhas();

  displayLines();
  
}
</script>

</body>
</html>
